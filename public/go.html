<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
  <title>Glitch</title>
  <meta name="googlebot" content="index, follow, snippet" />
  <link rel="shortcut icon" content="favicon.ico" />
  <link rel="icon" type="image/png" href="assets/favicon.png" />
  <script src="baremux/bare.cjs" defer></script>
  <script src="epoxy/index.js" defer></script>
  <script src="uv/uv.bundle.js" defer></script>
  <script src="uv/uv.config.js" defer></script>
  <script src="register-sw.js" defer></script>
  <script src="baremux/bare.cjs" defer></script>
  <script src="epoxy/index.js" defer></script>
  <script src="uv/uv.bundle.js" defer></script>
  <script src="uv/uv.config.js" defer></script>
  <script src="register-sw.js" defer></script>
  <script src="uv/search.js" defer></script>
  <script src="uv/index.js" defer></script>
  <script src="ai.js"></script>
  <style>
 body {
    background-color: black;
    margin: 0;
    overflow: hidden;
}

#searchbar {
    background-color: #2c2c2c;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 40px;
    position: absolute;
    top: 0;
    z-index: 15;
    box-sizing: border-box;
    padding: 0 10px;
}

#searchbar input {
    background-color: rgb(63, 63, 63);
    color: white;
    border: none;
    border-radius: 5px;
    padding: 5px 10px;
    width: 50%;
    box-sizing: border-box;
}

img {
    width: 20px;
    margin-left: 10px;
    cursor: pointer;
}

#searchbar input:focus {
    outline: none;
}

#uv-frame {
    width: 100%;
    height: calc(100vh - 40px);
    border: none;
    position: absolute;
    top: 40px;
    left: 0;
}

#home, #refresh {
    margin-right: 10px;
    filter: invert(1);
    cursor: pointer;
}

  </style>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-278K4F012J"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-278K4F012J');
  </script>


</head>
<body>
  <center>

    <div id="frames">
      <form id="uv-form" class="flex-center">
        <input
          id="uv-search-engine"
          value="https://www.google.com/search?q=%s"
          type="hidden"
        />
      <input style="display: none;" id="uv-address" type="text" placeholder="Search the web freely" />
    </form>
    <iframe style="border: none; height: 100vh; width: 100vw" id="uv-frame"></iframe>
    </div>
    </center>

    <script>
      function getURLParameter(name) {
          name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
          var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
          var results = regex.exec(location.search);
          return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
      }
      localStorage.setItem("url", getURLParameter("url"));

      document.addEventListener("DOMContentLoaded",function(){

      document.getElementById("search").value = localStorage.getItem("url");

      document.getElementById("search").addEventListener("keypress",function(e){
        if (e.key === "Enter") {
          window.location = "launch_page.html?url="+document.getElementById("search").value
        }


      })

      })

      document.getElementById("uv-frame").onload = function () {
                var frameTitle = frame.contentDocument.title;
                document.title = frameTitle;
                var last_title = frameTitle;
                setInterval(function () {
                    frameTitle = frame.contentDocument.title;
                    if (frameTitle != last_title) {
                        document.title = frameTitle;
                        last_title = frameTitle;
                    }
                }, 500);
            };


  </script>
   <!--  <script src="scripts/js/proxy.js"></script>-->
  </body>
</html>
