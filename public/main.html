<!DOCTYPE html>
<html>
<head>
    <title>Glitch - Home</title>
    
  <script src="uv/uv.bundle.js" defer></script>
  <script src="uv/uv.config.js" defer></script>
  <script src="index.js" defer></script>
  <script src="register-sw.js" defer></script>
    <link rel="icon" href="assets/favicon.png" type="image/png">
    <style>body {overflow: none;}</style>
    <link rel="stylesheet" type="text/css" href="scripts/css/global.css">
</head>
<body>
    <div id="app">
        <div id="toolbar">
            <img src="assets/images/logo_trans.png" id="glitch-logo" alt="Glitch">
            <div id="nav-links">
                <div id="separator"></div>
                <h3 onclick="window.location.href = 'main.html'">Home</h3>
                <h3>/</h3>
                <h3 onclick="window.location.href = 'apps.html'">Apps</h3>
                <h3>/</h3>
                <h3 onclick="window.location.href = 'discord.html'">Discord</h3>
                <h3>/</h3>
                <h3 onclick="window.location.href = 'aboutbrowser.html'">Browser</h3>
                <h3>/</h3>
                <h3 onclick="window.location.href = 'settings.html'">Settings</h3>
                <h3>|</h3>
                <h3 id="time">hai</h3>
            </div>
            <script>
                function updateTime() {
        const timeElement = document.getElementById('time');
        if (!timeElement) return;
        
        const now = new Date();
        let hours = now.getHours();
        const minutes = now.getMinutes();
        const ampm = hours >= 12 ? 'PM' : 'AM';
        
        hours = hours % 12;
        hours = hours ? hours : 12;
        const minutesStr = minutes < 10 ? '0' + minutes : minutes;
        
        const timeStr = `${hours}:${minutesStr} ${ampm}`;
        timeElement.textContent = timeStr;
        }
        
        setInterval(updateTime, 5000);
        updateTime(); 
            </script>
        </div>

    </div>

    <br>

    <div id="content">
        <center>
            <br>
            <br>
            <br>
            <h1 style="font-size: 70px;">Glitch</h1>
            <br>

            <div class="tos-notification" style="display: none;">
                <div class="tos-content" style="color: black; text-align: left; padding: 20px; background-color: #fff; border-radius: 10px; width: 70%;">
                    <h2>Welcome!</h2>
                    <p>
                        Welcome to Glitch! The proxy that knows <b>NOTHING</b> about you. There is a catch, though: you need to agree to our TOS. 
                        It says that we not liable for any actions you take while using our service, mainly because we don't know what you do.
                        <br>
                        Hey! If you're connected to public WiFi/free WiFi, then you should click <a href="go.html?url=https://relay.love">here</a> to donate your schools bandwidth to fighting internet censorship!
                        Just turn the snowflake on and bookmark the page then just leave the tab open while you browse safely on Glitch!
                    </p>
                    <p>
                        The TOS is available <a href="tos.md">here</a>.
                        By using any Glitch service on or after the publication of these terms, you acknowledge and accept these terms.
                    </p>
                    <p>
                        <button class="close-tos-btn" style="background-color: #131313; color: white; padding: 10px; border: none; border-radius: 5px;">I Agree</button>
                    </p>
                </div>
            </div>
            <input id="search" placeholder="Search..." type="text" style="width: 70%; height: 25px; background-color: #131313; border: none; padding: 15px; color: white; border-radius: 20px;"/>
            <br>
            <button id="cloak" class="main_button">Cloak</button>
            <button class="main_button" onclick="window.location='https://discord.gg/mWGtwnyjgK'">Join the Discord</button>   
            <button class="main_button" onclick="window.location='contributers.html'">Contributers</button>   
            <br>
            <br>
            <center>
            <img id="rr" style=" margin-bottom: 350px; border-radius: 15px; border: #131313 2px solid; width: 350px; height: 150px; margin-top: 230px" onclick="window.open('https://discord.gg/2n3NHNBzda')" src="assets/ads/youradhere.png">
        </center>


            </div>
        </center>
    </div>

    <script>
            document.getElementById("cloak").addEventListener("click",function(){
      function load() {
        var x = "main.html";
            var code = `
                <body style="background-color: black">
                <iframe src="` + x + `" frameborder="0" style="border: none; background-color: black" width="100%" height="100%"></iframe>
                </body>
            `;
            var newWindow = window.open("about:blank", "_blank");
            newWindow.document.write(code);
            newWindow.document.body.style.backgroundColor = "black";
            window.close();

            }

            load()
    })

        document.addEventListener("DOMContentLoaded", function() {
            document.addEventListener("keypress", function(e) {
                if (e.key === "Enter") {
                    window.location = ("launch.html?url=" + document.getElementById("search").value);
                }
            });


            // Check if this is the first time visiting
            if (!localStorage.getItem("first_time_visiting")) {
                document.querySelector(".tos-notification").style.display = 'block';
            }

            // Add event listener to TOS close button
            document.querySelector(".close-tos-btn").addEventListener('click', function() {
                document.querySelector(".tos-notification").style.display = 'none';
                localStorage.setItem("first_time_visiting", "1");
            });
        });

        if (localStorage.getItem("hide_ad") == "1") {
            document.getElementById("rr").style.display = "none";
        }
        const ads = ["galaxy.png", "outpost.png", "youradhere.png", "youcanturnoffads.png"];
        const ads_urls = ["https://discord.gg/8wEk32uKQk", "https://discord.gg/4AeuJJHNj9", "https://discord.gg/2n3NHNBzda", "https://ublock.org"];
        let current_ad = 0;

        setInterval(function () {
            document.getElementById("rr").src = "/assets/ads/" + ads[current_ad];
            if (current_ad === ads.length - 1) current_ad = 0;
            else current_ad = (current_ad + 1) % ads.length;

            document.getElementById("rr").onclick = function () {
                window.open(ads_urls[current_ad]);
            };
        }, 10000); // every 10 seconds

    </script>
    <script src="scripts/js/global.js"></script>
</body>
</html>
